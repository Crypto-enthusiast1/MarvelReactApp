"use strict";(self.webpackChunkmarvel_react_app=self.webpackChunkmarvel_react_app||[]).push([[491],{293:(e,s,a)=>{a.d(s,{A:()=>n});const t=a.p+"static/media/giphy.9b522a077d09fe14729a.webp";var r=a(579);const n=()=>(0,r.jsx)("img",{src:t,alt:"error",className:"error"})},73:(e,s,a)=>{a.r(s),a.d(s,{default:()=>k});var t=a(43),r=a(591),n=a(644),c=a(293);const i=a.p+"static/media/mjolnir.13bfa19dd2c9eb937155.png",o=a.p+"static/media/shield.e522b74cade3ff2d3464.png";var l=a(897),d=a(579);const h=e=>{let{hero:s}=e;const{thumbnail:a,name:t,description:r,homepage:n,wiki:c}=s;return(0,d.jsxs)("div",{className:"heroBlockInfo",children:[(0,d.jsx)("img",{src:a,alt:"hero"}),(0,d.jsxs)("div",{className:"wrapper",children:[(0,d.jsx)("h1",{className:"heroName",children:t}),(0,d.jsx)("div",{className:"heroDescription",children:r}),(0,d.jsxs)("div",{className:"btns",children:[(0,d.jsx)("a",{href:n,className:"button button__main",children:(0,d.jsx)("div",{className:"inner",children:"HOMEPAGE"})}),(0,d.jsx)("a",{href:c,className:"button button__secondary",children:(0,d.jsx)("div",{className:"inner",children:"WIKI"})})]})]})]})},m=e=>{const{getHeroById:s,clearError:a,process:r,setProcess:m}=(0,l.A)(),[u,p]=(0,t.useState)({});(0,t.useEffect)((()=>{m("loading"),j()}),[]);const j=()=>{m("loading"),s().then((s=>{e.onHeroLoad(s),s.description?s.description&&s.description.length>228&&(s.description=s.description.slice(0,228)+"..."):s.description="There is no data about this character.",p(s),a()})).then((()=>m("confirmed")))};return(0,d.jsxs)("div",{className:"randomHero",children:[((e,s)=>{switch(e){case"waiting":case"loading":return(0,d.jsx)(n.A,{});case"confirmed":return(0,d.jsx)(h,{hero:s});case"error":return(0,d.jsx)(c.A,{});default:throw new Error("Quelque chose s'est mal passe")}})(r,u),(0,d.jsxs)("div",{className:"heroToday",children:[(0,d.jsxs)("div",{children:["Random character for today! ",(0,d.jsx)("br",{}),"Do you want to get to know him better?"]}),(0,d.jsx)("div",{children:"Or choose another one"}),(0,d.jsx)("button",{className:"button button__main",onClick:j,children:(0,d.jsx)("div",{className:"inner",children:"TRY IT"})}),(0,d.jsx)("img",{src:o,alt:"shield",className:"shield"}),(0,d.jsx)("img",{src:i,alt:"mjolnir",className:"mjolnir"})]})]})};var u=a(649),p=a(704);const j=e=>{const[s,a]=(0,t.useState)([]),[r,i]=(0,t.useState)(!1),[o,h]=(0,t.useState)(210),[m,j]=(0,t.useState)(!1),[x,g]=(0,t.useState)(!0),[b,v]=(0,t.useState)([]),{clearError:f,getAllHeroes:N,process:w,setProcess:y}=(0,l.A)();(0,t.useEffect)((e=>{E(e)}),[]);const _=e=>{const t=s.map((s=>s.id===e?{...s,active:!0}:{...s,active:!1}));a(t)},C=s=>s.map((s=>{let a={objectFit:"cover"};const t=s.active?"hero_item hero_item_selected":"hero_item";"http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg"===s.thumbnail&&(a={objectFit:"unset"});const r=()=>{e.onCharSelected(s.id),_(s.id)},n=b.includes(s.id);return(0,d.jsxs)(p.P.li,{initial:n?{}:{opacity:0,scale:.5},animate:n?{}:{opacity:1,scale:1},transition:{duration:.2,delay:.2},className:t,tabIndex:"0",onClick:r,onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||r()},onAnimationComplete:()=>{n||v((e=>[...e,s.id]))},children:[(0,d.jsx)("img",{src:s.thumbnail,alt:s.name,style:a}),(0,d.jsx)("div",{className:"hero_name",children:s.name})]},s.id)})),E=e=>{i(!x),N(e).then((e=>{e.length<9&&j(!0);const s=e.map((e=>({...e,active:!1})));a((e=>[...e,...s])),i(!1),g(!1),f(),h((e=>e+9))})).then((()=>y("confirmed")))},k=(e,a)=>{switch(e){case"waiting":case"loading":return x?(()=>{const e=[];for(let s=0;s<9;s++)e.push((0,d.jsx)(u.A,{variant:"rectangular",width:200,height:320,animation:"wave"},s));return e})():(0,d.jsx)(a,{});case"confirmed":return C(s);case"error":return(0,d.jsx)(c.A,{});default:throw new Error("Quelque chose s'est mal passe")}},H=(0,t.useMemo)((()=>k(w,(()=>C(s)))),[w,s]);let S=r?(0,d.jsx)(n.A,{}):(0,d.jsx)("button",{className:"button button__main button__long",onClick:()=>E(o+9),children:(0,d.jsx)("div",{className:"inner",children:"load more"})});return m&&(S=null),(0,d.jsxs)("div",{className:"heroes_list",children:[(0,d.jsx)("ul",{className:"heroes_grid",children:H}),S]})};class x extends t.Component{constructor(e){super(e),this.state={hasError:!1,errorInfo:null}}componentDidCatch(e,s){this.setState({hasError:!0,errorInfo:s}),console.log(e,s)}render(){return this.state.hasError?(0,d.jsx)("h1",{children:"Something went wrong."}):this.props.children}}const g=x,b=e=>{let{hero:s,comics:a}=e;const{thumbnail:t,name:r,description:n,homepage:c,wiki:i}=s;let o={objectFit:"cover"};"http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg"===t&&(o={objectFit:"unset"});const l=a();return(0,d.jsxs)("div",{className:"aboutComicsHero",children:[(0,d.jsxs)("div",{className:"wrapper",children:[(0,d.jsx)("img",{src:t,alt:"hero",style:o}),(0,d.jsx)("h1",{className:"heroName",children:r}),(0,d.jsx)("a",{href:c,className:"button button__main",children:(0,d.jsx)("div",{className:"inner",children:"HOMEPAGE"})}),(0,d.jsx)("a",{href:i,className:"button button__secondary",children:(0,d.jsx)("div",{className:"inner",children:"WIKI"})})]}),(0,d.jsx)("div",{className:"heroDescription",children:n}),(0,d.jsx)("h2",{className:"comics",children:"Comics:"}),(0,d.jsx)("ul",{children:l})]})},v=e=>{const[s,a]=(0,t.useState)({}),[r,i]=(0,t.useState)(!1),{clearError:o,getHeroWithComicsById:h,process:m,setProcess:u}=(0,l.A)(),{randomHero:p,charId:j}=e;(0,t.useEffect)((()=>{p&&x()}),[p]),(0,t.useEffect)((()=>{j&&(v(j),f())}),[j]);const x=()=>{const{randomHero:s}=e;!r&&s&&Object.keys(s).length>0&&(u("loading"),a({...s}),i(!0),u("confirmed"))},g=()=>(0,d.jsx)("div",{className:"aboutComicsHero",children:(0,d.jsx)("div",{className:"wrapper_error",children:(0,d.jsx)(c.A,{})})}),v=e=>{e&&h(e).then((e=>{e.description?e.description&&e.description.length>228&&(e.description=e.description.slice(0,228)+"..."):e.description="There is no data about this character.",o(),a({...e})})).then((()=>u("confirmed"))).catch(g)},f=()=>{const{comics:e}=s;return e&&0!==e.length?e.map(((e,s)=>s>9?null:(0,d.jsx)("a",{href:e.resourceURI,children:(0,d.jsx)("li",{children:e.name})},s))):(0,d.jsx)("li",{children:"They are no comics avaible about this hero"})};return(0,d.jsx)(t.Fragment,{children:((e,s)=>{switch(e){case"waiting":case"loading":return(0,d.jsx)("div",{className:"aboutComicsHero",children:(0,d.jsx)("div",{className:"wrapper wrapper_loading",style:{justifyContent:"center",display:"unset"},children:(0,d.jsx)(n.A,{})})});case"confirmed":return(0,d.jsx)(b,{hero:s,comics:f});case"error":return g();default:throw new Error("Quelque chose s'est mal passe")}})(m,s)})},f=a.p+"static/media/bg_asset.4d6f967110994e4613c0.png";const N=a.p+"static/media/hummerUp.d29ad872de0e39c47a0cadb891e73fb0.svg";var w=a(831),y=a(899),_=a(892),C=a(475);const E=()=>{const[e,s]=(0,t.useState)(null),{getHeroByName:a}=(0,l.A)(),r=e?e.length>0?(0,d.jsxs)("div",{className:"newHero",children:["There is! Visit ".concat(e[0].name," page?"),(0,d.jsx)(C.N_,{className:"button button__secondary",to:"/".concat(e[0].name),children:(0,d.jsx)("div",{className:"inner",children:"TO PAGE"})})]}):(0,d.jsx)("div",{className:"errorMessage",children:"The character was not found. Check the name and try again"}):null;return(0,d.jsx)("div",{className:"findHero",children:(0,d.jsx)(_.l1,{initialValues:{name:""},validationSchema:y.Ik({name:y.Yj().min(2,"Minimum 2 symbol").required("This field is required ")}),onSubmit:e=>{let{name:t}=e;(e=>{a(e).then((e=>{s(e)}))})(t)},children:(0,d.jsxs)(_.lV,{children:[(0,d.jsx)("label",{htmlFor:"name",children:"Or find a character by name:"}),(0,d.jsxs)("div",{className:"findHero-wrapp",children:[(0,d.jsx)(_.D0,{required:!0,placeholder:"Enter name",id:"name",name:"name",type:"text"}),(0,d.jsx)("button",{className:"button button__main",type:"submit",children:(0,d.jsx)("div",{className:"inner",children:"FIND"})})]}),(0,d.jsx)(_.Kw,{component:"div",name:"name",className:"errorMessage"}),r]})})})},k=()=>{const[e,s]=(0,t.useState)(null),[a,n]=(0,t.useState)({});return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(r.m,{children:[(0,d.jsx)("meta",{name:"description",content:"Site about Marvel Universe and its heroes"}),(0,d.jsx)("title",{children:"Marvel Universe"})]}),(0,d.jsx)(g,{children:(0,d.jsx)(m,{onHeroLoad:e=>{n(e)}})}),(0,d.jsxs)("div",{className:"heroWrapper",children:[(0,d.jsx)(g,{children:(0,d.jsx)(j,{onCharSelected:e=>{s(e)}})}),(0,d.jsx)(g,{children:(0,d.jsx)(v,{charId:e,randomHero:a})}),(0,d.jsx)(E,{}),(0,d.jsx)("img",{src:f,alt:"backGround",className:"backGroundImg"}),(0,d.jsx)(w.A,{showUnder:500,children:(0,d.jsx)("img",{src:N,alt:"up",className:"hummer"})})]})]})}},897:(e,s,a)=>{a.d(s,{A:()=>n});var t=a(43);const r=()=>{const[e,s]=(0,t.useState)(!1),[a,r]=(0,t.useState)(!1),[n,c]=(0,t.useState)("waiting"),i=(0,t.useCallback)((async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{"Content-Type":"application/json"};s(!0),c("loading"),r(!1);try{const a=await fetch(e,{method:t,body:n,headers:i});if(!a.ok)throw new Error("Could not fetch ".concat(e,", status: ").concat(a.status));const r=await a.json();return s(!1),r}catch(a){throw r(a.message),s(!1),c("error"),a}}),[]);return{loading:e,error:a,request:i,clearError:(0,t.useCallback)((()=>{r(!1),c("waiting")}),[]),process:n,setProcess:c}},n=()=>{const{loading:e,error:s,request:a,clearError:t,process:n,setProcess:c}=r(),i="https://gateway.marvel.com:443/v1/public/",o="apikey=e00523b13d7dc4415650fcb181018a25",l=e=>({name:e.name,description:e.description,thumbnail:e.thumbnail.path+"."+e.thumbnail.extension,homepage:e.urls[0].url,wiki:e.urls[1].url,id:e.id,comics:e.comics.items}),d=e=>({thumbnail:e.thumbnail.path+"."+e.thumbnail.extension,title:e.title,description:e.description,pageCount:e.pageCount+" pages",price:e.prices[0].price+"$",id:e.id,language:e.language||"Language: en-us"});return{loading:e,error:s,clearError:t,process:n,setProcess:c,request:a,getAllHeroes:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:210;return(await a("".concat(i,"characters?limit=9&offset=").concat(e,"&").concat(o))).data.results.map(l)},getHeroById:async()=>{const e=Math.floor(400*Math.random()+1011e3),s=await a("".concat(i,"characters/").concat(e,"?&").concat(o));return l(s.data.results[0])},getHeroWithComicsById:async e=>{const s=await a("".concat(i,"characters/").concat(e,"?&").concat(o));return l(s.data.results[0])},getAllComics:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return(await a("".concat(i,"comics?limit=8&offset=").concat(e,"&").concat(o))).data.results.map(d)},getComic:async e=>(await a("".concat(i,"comics/").concat(e,"?").concat(o))).data.results.map(d),getHeroByName:async e=>(await a("".concat(i,"characters?name=").concat(e,"&").concat(o))).data.results.map(l)}}}}]);
//# sourceMappingURL=491.97134045.chunk.js.map