"use strict";(self.webpackChunkmarvel_react_app=self.webpackChunkmarvel_react_app||[]).push([[491],{293:(e,s,a)=>{a.d(s,{A:()=>t});const r=a.p+"static/media/giphy.9b522a077d09fe14729a.webp";var n=a(579);const t=()=>(0,n.jsx)("img",{src:r,alt:"error",className:"error"})},73:(e,s,a)=>{a.r(s),a.d(s,{default:()=>H});var r=a(43),n=a(644),t=a(293);const i=a.p+"static/media/mjolnir.13bfa19dd2c9eb937155.png",c=a.p+"static/media/shield.e522b74cade3ff2d3464.png";var l=a(897),o=a(579);const d=e=>{let{hero:s}=e;const{thumbnail:a,name:r,description:n,homepage:t,wiki:i}=s;return(0,o.jsxs)("div",{className:"heroBlockInfo",children:[(0,o.jsx)("img",{src:a,alt:"hero"}),(0,o.jsxs)("div",{className:"wrapper",children:[(0,o.jsx)("h1",{className:"heroName",children:r}),(0,o.jsx)("div",{className:"heroDescription",children:n}),(0,o.jsxs)("div",{className:"btns",children:[(0,o.jsx)("a",{href:t,className:"button button__main",children:(0,o.jsx)("div",{className:"inner",children:"HOMEPAGE"})}),(0,o.jsx)("a",{href:i,className:"button button__secondary",children:(0,o.jsx)("div",{className:"inner",children:"WIKI"})})]})]})]})},h=e=>{const{loading:s,error:a,getHeroById:h,clearError:m}=(0,l.A)(),[u,j]=(0,r.useState)({});(0,r.useEffect)((()=>{x()}),[]);const x=()=>{h().then((s=>{e.onHeroLoad(s),s.description?s.description&&s.description.length>228&&(s.description=s.description.slice(0,228)+"..."):s.description="There is no data about this character.",j(s),m()}))},p=a?(0,o.jsx)(t.A,{}):null,b=s?(0,o.jsx)(n.A,{}):null,v=s||a?null:(0,o.jsx)(d,{hero:u});return(0,o.jsxs)("div",{className:"randomHero",children:[p,b,v,(0,o.jsxs)("div",{className:"heroToday",children:[(0,o.jsxs)("div",{children:["Random character for today! ",(0,o.jsx)("br",{}),"Do you want to get to know him better?"]}),(0,o.jsx)("div",{children:"Or choose another one"}),(0,o.jsx)("button",{className:"button button__main",onClick:x,children:(0,o.jsx)("div",{className:"inner",children:"TRY IT"})}),(0,o.jsx)("img",{src:c,alt:"shield",className:"shield"}),(0,o.jsx)("img",{src:i,alt:"mjolnir",className:"mjolnir"})]})]})};var m=a(649),u=a(704);const j=e=>{const[s,a]=(0,r.useState)([]),[i,c]=(0,r.useState)(!1),[d,h]=(0,r.useState)(210),[j,x]=(0,r.useState)(!1),[p,b]=(0,r.useState)(!0),{loading:v,error:g,clearError:N,getAllHeroes:_}=(0,l.A)();(0,r.useEffect)((e=>{_(e).then((e=>{const s=e.map((e=>({...e,active:!1})));a(s),b(!1),N()}))}),[]);const f=e=>{const r=s.map((s=>s.id===e?{...s,active:!0}:{...s,active:!1}));a(r)},y=(s=>s.map(((s,a)=>{let r={objectFit:"cover"};const n=s.active?"hero_item hero_item_selected":"hero_item";"http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg"===s.thumbnail&&(r={objectFit:"unset"});const t=()=>{e.onCharSelected(s.id),f(s.id)};return(0,o.jsxs)(u.P.li,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{duration:.2,delay:.2},className:n,tabIndex:"0",onClick:t,onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||t()},children:[(0,o.jsx)("img",{src:s.thumbnail,alt:s.name,style:r}),(0,o.jsx)("div",{className:"hero_name",children:s.name})]},s.id)})))(s),w=v&&p?(()=>{const e=[];for(let s=0;s<9;s++)e.push((0,o.jsx)(m.A,{variant:"rectangular",width:200,height:320,animation:"wave"},s));return e})():null,k=g?(0,o.jsx)(t.A,{}):null;let H=i?(0,o.jsx)(n.A,{}):(0,o.jsx)("button",{className:"button button__main button__long",onClick:()=>(e=>{c(!0),_(e).then((e=>{e.length<9&&x(!0);const s=e.map((e=>({...e,active:!1})));a((e=>[...e,...s])),c(!1),h((e=>e+9))}))})(d+9),children:(0,o.jsx)("div",{className:"inner",children:"load more"})});return j&&(H=null),(0,o.jsxs)("div",{className:"heroes_list",children:[(0,o.jsxs)("ul",{className:"heroes_grid",children:[w,k,y]}),H]})};class x extends r.Component{constructor(e){super(e),this.state={hasError:!1,errorInfo:null}}componentDidCatch(e,s){this.setState({hasError:!0,errorInfo:s}),console.log(e,s)}render(){return this.state.hasError?(0,o.jsx)("h1",{children:"Something went wrong."}):this.props.children}}const p=x,b=e=>{let{hero:s,comics:a}=e;const{thumbnail:r,name:n,description:t,homepage:i,wiki:c}=s;let l={objectFit:"cover"};"http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg"===r&&(l={objectFit:"unset"});const d=a();return(0,o.jsxs)("div",{className:"aboutComicsHero",children:[(0,o.jsxs)("div",{className:"wrapper",children:[(0,o.jsx)("img",{src:r,alt:"hero",style:l}),(0,o.jsx)("h1",{className:"heroName",children:n}),(0,o.jsx)("a",{href:i,className:"button button__main",children:(0,o.jsx)("div",{className:"inner",children:"HOMEPAGE"})}),(0,o.jsx)("a",{href:c,className:"button button__secondary",children:(0,o.jsx)("div",{className:"inner",children:"WIKI"})})]}),(0,o.jsx)("div",{className:"heroDescription",children:t}),(0,o.jsx)("h2",{className:"comics",children:"Comics:"}),(0,o.jsx)("ul",{children:d})]})},v=e=>{const[s,a]=(0,r.useState)({}),[i,c]=(0,r.useState)(!1),[d,h]=(0,r.useState)(!0),{error:m,clearError:u,getHeroWithComicsById:j}=(0,l.A)(),{randomHero:x,charId:p}=e;(0,r.useEffect)((()=>{e.randomHero&&v()}),[]),(0,r.useEffect)((()=>{x&&v()}),[x]),(0,r.useEffect)((()=>{p&&(N(p),_())}),[p]);const v=()=>{const{randomHero:s}=e;!i&&s&&Object.keys(s).length>0&&(a({...s}),c(!0),h(!1))},g=()=>(0,o.jsx)("div",{className:"aboutComicsHero",children:(0,o.jsx)("div",{className:"wrapper_error",children:(0,o.jsx)(t.A,{})})}),N=e=>{e&&(h(!0),j(e).then((e=>{e.description?e.description&&e.description.length>228&&(e.description=e.description.slice(0,228)+"..."):e.description="There is no data about this character.",u(),a({...e}),h(!1)})).catch(g))},_=()=>{const{comics:e}=s;return e&&0!==e.length?e.map(((e,s)=>s>9?null:(0,o.jsx)("a",{href:e.resourceURI,children:(0,o.jsx)("li",{children:e.name})},s))):(0,o.jsx)("li",{children:"They are no comics avaible about this hero"})},f=d?(0,o.jsx)("div",{className:"aboutComicsHero",children:(0,o.jsx)("div",{className:"wrapper wrapper_loading",style:{justifyContent:"center",display:"unset"},children:(0,o.jsx)(n.A,{})})}):null,y=m?g():null,w=d||m?null:(0,o.jsx)(b,{hero:s,comics:_});return(0,o.jsxs)(r.Fragment,{children:[f,y,w]})},g=a.p+"static/media/bg_asset.4d6f967110994e4613c0.png";const N=a.p+"static/media/hummerUp.d29ad872de0e39c47a0cadb891e73fb0.svg";var _=a(831),f=a(899),y=a(892),w=a(475);const k=()=>{const[e,s]=(0,r.useState)(null),[a,n]=(0,r.useState)(null),{getHeroByName:t}=(0,l.A)(),i=e?e.length>0?(0,o.jsxs)("div",{className:"newHero",children:["There is! Visit ".concat(e[0].name," page?"),(0,o.jsx)(w.N_,{className:"button button__secondary",to:"/".concat(e[0].name),children:(0,o.jsx)("div",{className:"inner",children:"WIKI"})})]}):(0,o.jsx)("div",{className:"errorMessage",children:"The character was not found. Check the name and try again"}):null;return(0,o.jsx)("div",{className:"findHero",children:(0,o.jsx)(y.l1,{initialValues:{name:""},validationSchema:f.Ik({name:f.Yj().min(2,"Minimum 2 symbol").required("This field is required ")}),onSubmit:a=>{let{name:r}=a;(a=>{t(a).then((a=>{s(a),0===a.length&&n((0,o.jsx)("div",{className:"errorMessage",children:"The character was not found. Check the name and try again"})),console.log(e)}))})(r)},children:(0,o.jsxs)(y.lV,{children:[(0,o.jsx)("label",{htmlFor:"name",children:"Or find a character by name:"}),(0,o.jsxs)("div",{className:"findHero-wrapp",children:[(0,o.jsx)(y.D0,{required:!0,placeholder:"Enter name",id:"name",name:"name",type:"text"}),(0,o.jsx)("button",{className:"button button__main",type:"submit",children:(0,o.jsx)("div",{className:"inner",children:"FIND"})})]}),(0,o.jsx)(y.Kw,{component:"div",name:"name",className:"errorMessage"}),i]})})})},H=()=>{const[e,s]=(0,r.useState)(null),[a,n]=(0,r.useState)({});return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(p,{children:(0,o.jsx)(h,{onHeroLoad:e=>{n(e)}})}),(0,o.jsxs)("div",{className:"heroWrapper",children:[(0,o.jsx)(p,{children:(0,o.jsx)(j,{onCharSelected:e=>{s(e)}})}),(0,o.jsx)(p,{children:(0,o.jsx)(v,{charId:e,randomHero:a})}),(0,o.jsx)(k,{}),(0,o.jsx)("img",{src:g,alt:"backGround",className:"backGroundImg"}),(0,o.jsx)(_.A,{showUnder:500,children:(0,o.jsx)("img",{src:N,alt:"up",className:"hummer"})})]})]})}}}]);
//# sourceMappingURL=491.7b8f82f0.chunk.js.map